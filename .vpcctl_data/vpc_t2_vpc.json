{
  "name": "t2_vpc",
  "cidr": "10.40.0.0/16",
  "bridge": "br-t2-vpc",
  "subnets": [
    {
      "name": "public",
      "cidr": "10.40.1.0/24",
      "ns": "ns-t2_vpc-public",
      "gw": "10.40.1.1",
      "host_ip": "10.40.1.2",
      "veth": "v-t2-vpc-public"
    }
  ],
  "host_iptables": [
    [
      "iptables",
      "-I",
      "FORWARD",
      "-i",
      "br-t2-vpc",
      "-m",
      "comment",
      "--comment",
      "vpcctl:t2_vpc:jump",
      "-j",
      "vpc-t2-vpc"
    ],
    [
      "iptables",
      "-A",
      "vpc-t2-vpc",
      "-s",
      "10.40.0.0/16",
      "-d",
      "10.40.0.0/16",
      "-m",
      "comment",
      "--comment",
      "vpcctl:t2_vpc:intra",
      "-j",
      "ACCEPT"
    ],
    [
      "iptables",
      "-A",
      "vpc-t2-vpc",
      "-o",
      "br-t1-vpc",
      "-s",
      "10.30.1.0/24",
      "-d",
      "10.30.1.0/24",
      "-m",
      "comment",
      "--comment",
      "vpcctl:peer:t1_vpc:t2_vpc",
      "-j",
      "ACCEPT"
    ],
    [
      "iptables",
      "-A",
      "vpc-t2-vpc",
      "-o",
      "br-t1-vpc",
      "-s",
      "10.30.1.0/24",
      "-d",
      "10.40.1.0/24",
      "-m",
      "comment",
      "--comment",
      "vpcctl:peer:t1_vpc:t2_vpc",
      "-j",
      "ACCEPT"
    ],
    [
      "iptables",
      "-A",
      "vpc-t2-vpc",
      "-o",
      "br-t1-vpc",
      "-s",
      "10.40.1.0/24",
      "-d",
      "10.30.1.0/24",
      "-m",
      "comment",
      "--comment",
      "vpcctl:peer:t1_vpc:t2_vpc",
      "-j",
      "ACCEPT"
    ],
    [
      "iptables",
      "-A",
      "vpc-t2-vpc",
      "-o",
      "br-t1-vpc",
      "-s",
      "10.40.1.0/24",
      "-d",
      "10.40.1.0/24",
      "-m",
      "comment",
      "--comment",
      "vpcctl:peer:t1_vpc:t2_vpc",
      "-j",
      "ACCEPT"
    ],
    [
      "iptables",
      "-A",
      "vpc-t2-vpc",
      "-o",
      "br-t1-vpc",
      "-m",
      "comment",
      "--comment",
      "vpcctl:peer-drop:t1_vpc:t2_vpc",
      "-j",
      "DROP"
    ]
  ],
  "chain": "vpc-t2-vpc",
  "apps": [
    {
      "ns": "ns-t2_vpc-public",
      "port": 8080,
      "pid": 15803,
      "cmd": [
        "ip",
        "netns",
        "exec",
        "ns-t2_vpc-public",
        "python3",
        "-m",
        "http.server",
        "8080"
      ]
    }
  ],
  "peers": [
    {
      "peer_vpc": "t1_vpc",
      "veth_a": "pv-t1-vpc-t2-vb",
      "veth_b": "pv-t1-vpc-t2-va",
      "allowed": [
        "10.30.1.0/24",
        "10.40.1.0/24"
      ]
    }
  ]
}